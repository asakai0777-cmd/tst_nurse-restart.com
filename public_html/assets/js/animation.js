// jQueryによるスクロール監視$(window).scroll(function () {  $(".scrollmarker").each(function () {    var position = $(this).offset().top;    var scroll = $(window).scrollTop();    var windowHeight = $(window).height();    if (scroll > position - windowHeight) {      $(this).addClass('is-active');    }  });});// ビューポート判定＋バーアニメーションfunction isInViewport(element) {  const rect = element.getBoundingClientRect();  return rect.top <= window.innerHeight && rect.bottom >= 0;}let animated = false;function animateBars() {  if (animated) return;  const section = document.getElementById("customer-voice");  if (isInViewport(section)) {    const bars = section.querySelectorAll(".progress-bar");    bars.forEach(bar => {      const target = bar.getAttribute("data-width");      bar.style.width = target;    });    animated = true;  }}window.addEventListener("scroll", animateBars);window.addEventListener("load", animateBars);// reveal-blockの順番表示document.addEventListener("DOMContentLoaded", function () {  const blocks = document.querySelectorAll(".reveal-block");  let revealed = 0;  let isAnimating = false;  function revealNextBlock() {    if (revealed >= blocks.length) return;    const block = blocks[revealed];    const rect = block.getBoundingClientRect();    if (rect.top < window.innerHeight - 100 && !isAnimating) {      isAnimating = true;      block.classList.add("visible");      revealed++;      setTimeout(() => {        isAnimating = false;        revealNextBlock();      }, 1200);    }  }  function checkScroll() {    if (!isAnimating) {      revealNextBlock();    }  }  window.addEventListener("scroll", checkScroll);  window.addEventListener("load", checkScroll);});